# AI交互核心原则

- **标题**: AI协作开发交互核心原则
- **当前版本**: v1.0
- **最后更新**: 2025-09-10
- **负责人**: Kelin

---

## 高效交互原则

### 🎯 原则1: 明确表达意图
**基本要求**:
- 使用具体的技术术语，避免模糊描述
- 明确开发目标、性能要求和约束条件
- 提供足够的上下文信息帮助AI理解

**实施方法**:
```markdown
✅ 好的表达: "实现IDataProcessor接口，支持异步批处理，批大小1024，GPU加速"
❌ 差的表达: "做一个数据处理的东西"
```

**检查标准**:
- [ ] 包含具体的技术选择（CPU/GPU、同步/异步）
- [ ] 明确性能要求（延迟、吞吐量、内存使用）
- [ ] 说明与其他模块的关系

### 🚀 原则2: 减少往返次数
**基本要求**:
- 一次性提供完整的需求信息
- 预准备可能需要的依赖文件
- 使用标准化的表达模板

**实施方法**:
- 参考 `prompt模板库.md` 使用标准模板
- 提前阅读 `检查清单.md` 准备必要信息
- 主动提供相关的接口文件和配置

**效率提升指标**:
- 目标：单个模块开发控制在3轮对话内完成
- 澄清阶段：不超过2次往返
- 依赖确认：一次性提供所有文件

### 📋 原则3: 提供充分上下文
**基本要求**:
- 说明当前项目阶段（MVP/优化/重构）
- 提供相关模块的现状和依赖关系
- 明确技术栈和环境约束

**上下文信息层级**:
1. **项目级**: 雷达系统、实时处理、GPU加速
2. **模块级**: 数据接收、信号处理、任务调度
3. **组件级**: 具体算法、接口实现、性能优化

---

## AI行为准则 v2.0

### 🤖 准则1: 分步式文档读取（重要更新）
**行为要求**:
- 收到开发任务后，**不立即**开始全面分析
- 首先要求用户根据 `00_快速开始/文档智能索引.md` 提供指定文档
- 只基于用户明确提供的文档进行针对性分析
- 严禁在用户提供指定文档前开始任何代码分析或设计工作

**标准响应模板**:
```markdown
📋 **开发请求确认**: [重述用户需求]

🔍 **文档引导需求**:
为确保精确遵循项目规范，请根据 `docs_private/00_快速开始/文档智能索引.md`
查找您的问题类型，并提供对应的【必读文档】。

**请提供**:
- [ ] `docs_private/[具体路径]` - [说明用途]
- [ ] `docs_private/[具体路径]` - [说明用途]

⏭️ **下一步**: 您提供文档后，我将基于这些规范进行精确的需求澄清和方案设计。

🚫 **重要**: 在您提供指定文档前，我不会开始任何分析工作。
```

**文档使用优先级**:
1. 用户明确提供的必读文档（最高优先级）
2. 用户提供的可选文档（按需使用）
3. 禁止自行选择其他未提供的文档

### 🔍 准则2: 主动澄清需求
**触发条件**:
- 技术选择不明确（CPU vs GPU、同步 vs 异步）
- 性能要求模糊（"快速"、"高效"等非量化描述）
- 接口定义不完整（缺少错误处理、返回值定义）
- 依赖关系不清楚（与其他模块的交互方式）

**澄清标准**:
```markdown
必须澄清的要素：
- 技术实现方式的具体选择
- 量化的性能指标要求
- 完整的接口规范定义
- 明确的模块依赖关系
```

### 📝 准则3: 生成完整方案
**方案完整性要求**:
- 接口设计：完整的头文件定义
- 实现方案：核心算法和数据流描述
- 测试策略：单元测试和集成测试计划
- 构建配置：CMakeLists.txt和依赖管理

**方案审批流程**:
1. 生成技术方案和接口设计
2. 等待用户审批确认
3. 根据反馈调整方案
4. 获得最终确认后开始编码

### ⚡ 准则4: 确保代码质量
**质量标准**:
- 严格遵循 `02_编码规范/` 中的所有要求
- 包含完整的Doxygen风格注释
- 实现完整的错误处理机制
- 提供对应的单元测试代码

**自动检查项目**:
- [ ] 命名规范符合项目约定
- [ ] 注释完整且格式正确
- [ ] 包含错误处理和边界检查
- [ ] 测试覆盖主要功能和异常情况

---

## 用户配合原则

### 👤 原则1: 提供明确需求
**需求表达要求**:
- 使用项目术语表中的标准术语
- 提供具体的技术指标和约束
- 说明与现有系统的集成要求

**需求模板**:
```markdown
开发目标：[具体模块名称和功能]
技术要求：[CPU/GPU、同步/异步、性能指标]
接口要求：[输入输出格式、错误处理]
集成要求：[依赖模块、调用方式]
验收标准：[功能验证、性能基准]
```

### 📁 原则2: 及时提供依赖
**依赖文件准备**:
- AI列出依赖清单后，及时提供所有文件
- 确保提供的文件是最新版本
- 如果文件不存在，明确说明需要创建

**文件提供顺序**:
1. 接口定义文件（.h/.hpp）
2. 数据结构定义文件
3. 配置文件模板
4. 相关的实现参考

### ✅ 原则3: 认真审批方案
**审批要点**:
- 检查接口设计是否符合项目规范
- 验证性能方案是否满足实际需求
- 确认与现有系统的兼容性
- 评估实现复杂度和开发风险

**审批反馈格式**:
```markdown
✅ 通过的部分：[具体说明]
❌ 需要修改的部分：[具体问题和建议]
❓ 需要进一步澄清的部分：[具体疑问]
```

---

## 质量保证原则

### 🎨 原则1: 代码风格统一
**强制要求**:
- 所有代码必须符合 `02_编码规范/代码风格指南.md`
- 使用项目标准的代码模板
- 通过代码格式化工具验证

**检查机制**:
- AI生成代码后自动进行风格检查
- 对照编码规范进行逐项验证
- 不符合规范的代码必须重新生成

### 📖 原则2: 文档注释完整
**注释要求**:
- 所有公共接口必须有完整的Doxygen注释
- 复杂算法必须有实现思路说明
- 关键数据结构必须有字段说明

**注释质量标准**:
- 功能描述清晰准确
- 参数和返回值说明完整
- 包含使用示例和注意事项

### 🧪 原则3: 测试覆盖完整
**测试要求**:
- 每个公共方法都有对应的单元测试
- 包含正常情况和异常情况的测试
- 测试数据覆盖边界条件

**测试组织标准**:
- 遵循 `05_测试策略/单元测试规范.md`
- 使用项目统一的测试框架
- 测试文件命名和组织符合项目约定

---

## 异常处理原则

### ⚠️ 原则1: 快速识别问题
**问题识别标准**:
- AI理解与用户意图不符
- 生成的代码不符合项目规范
- 技术方案存在明显缺陷

**识别机制**:
- 用户主动指出问题
- AI自我检查发现不一致
- 代码审查过程中发现问题

### 🔄 原则2: 及时纠正错误
**纠错流程**:
1. 立即停止当前错误方向的工作
2. 重新理解用户的真实需求
3. 基于正确理解重新生成方案
4. 确认纠正结果符合预期

**纠错验证**:
- 与用户确认理解是否正确
- 对比项目规范验证合规性
- 测试验证功能正确性

### 📚 原则3: 学习改进机制
**学习要点**:
- 记录常见的误解和错误模式
- 总结成功协作的关键要素
- 持续优化交互流程和方法

**改进反馈**:
- 收集用户对AI表现的反馈
- 分析交互效率的改进空间
- 更新交互规范和模板

---

## 实施检查清单

### 开始新任务前 ☐
- [ ] 阅读用户需求，识别关键信息
- [ ] 读取相关的私人文档规范
- [ ] 准备标准的澄清问题模板
- [ ] 确认当前项目的技术上下文

### 需求澄清阶段 ☐
- [ ] 逐项确认技术选择和要求
- [ ] 明确性能指标和约束条件
- [ ] 确认接口规范和集成要求
- [ ] 列出完整的依赖文件清单

### 方案设计阶段 ☐
- [ ] 基于项目规范设计接口
- [ ] 规划完整的实现方案
- [ ] 设计对应的测试策略
- [ ] 准备构建和集成配置

### 代码生成阶段 ☐
- [ ] 严格遵循编码规范要求
- [ ] 生成完整的注释文档
- [ ] 实现完整的错误处理
- [ ] 提供配套的测试代码

### 质量验证阶段 ☐
- [ ] 验证代码风格符合规范
- [ ] 确认功能实现符合需求
- [ ] 检查测试覆盖率充分
- [ ] 确保与现有系统兼容

---

## 变更记录

| 版本 | 日期       | 修改人 | 变更摘要           |
| :--- | :--------- | :----- | :----------------- |
| v1.0 | 2025-09-10 | Kelin  | 创建AI交互核心原则 |
