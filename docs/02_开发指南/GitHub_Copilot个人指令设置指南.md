# GitHub Copilot 个人指令设置指南

## 📋 概述

GitHub Copilot 的个人自定义指令功能允许开发者设置适用于所有项目的个人偏好设置。这些指令会在聊天面板和沉浸式模式下生效，帮助 Copilot 更好地理解你的编码风格和项目需求。

本指南专门针对雷达数据处理系统项目，提供最佳实践和推荐配置。

## 🎯 如何添加个人自定义指令

### 步骤 1: 访问 GitHub Copilot

在 GitHub 上的任何页面，你可以通过以下两种方式打开 GitHub Copilot：

1. **沉浸式模式**：
   - 点击页面右上角的 🤖 图标
   - 打开 Copilot 对话助手的完整页面沉浸式模式

2. **聊天面板**：
   - 点击 🤖 图标旁边的下拉菜单
   - 选择 "Assistive" 打开 Copilot 对话助手面板

### 步骤 2: 打开个人指令设置

1. 在聊天面板或沉浸式页面的右上角找到设置菜单（⚙️）
2. 点击下拉菜单
3. 选择 "Personal instructions"（个人指令）

### 步骤 3: 编写个人指令

在文本框中添加你的自然语言指令。你可以采用以下任一格式：

- **段落格式**：将所有指令写成连贯的段落
- **列表格式**：每条指令单独一行
- **分块格式**：用空行将不同类别的指令分开

### 步骤 4: 使用模板（可选）

点击模板按钮（📝）查看可用的常见指令模板：

- **Communication**：沟通风格设置
- **Code Style**：代码风格偏好
- **Documentation**：文档格式要求
- **Testing**：测试方法偏好

选择模板后，占位符（如 `{format}`）会出现在文本框中，你可以根据个人偏好替换这些占位符。

### 步骤 5: 保存设置

点击 "保存" 按钮。你的个人指令将立即生效，并持续有效直到被修改或删除。

## 🚀 针对雷达项目的推荐个人指令

### 基础配置模板

```
我正在开发一个GPU加速的相控阵雷达数据处理系统，使用C++17、CUDA和CMake。

代码风格要求：
- 遵循项目的命名约定：namespace用radar::，成员变量用下划线后缀，私有方法用camelCase
- 使用项目特定的数据类型：ComplexFloat、AlignedFloatVector、AlignedComplexVector
- 所有模块必须继承自IModule基类接口
- 错误处理使用ErrorCode返回值，不使用异常
- 使用RADAR_INFO、RADAR_ERROR等宏进行结构化日志记录

性能要求：
- 代码必须支持实时处理，延迟要求小于10ms
- 优先考虑GPU内存管理和CPU-GPU数据传输优化
- 使用内存对齐的数据结构支持SIMD操作
- 避免在性能关键路径中进行动态内存分配

文档要求：
- 使用Doxygen格式注释，包含@brief、@param、@return
- 在注释中说明性能特征和线程安全要求
- 对初始化顺序依赖和资源管理添加@warning标记

请在生成代码前先查看include/common/interfaces.h、types.h和error_codes.h以确保接口兼容性。
```

### 高级配置模板

```
项目上下文：
我在开发radar_mvp/目录下的模块化雷达处理系统。系统采用分层架构：应用层、业务层、数据层和基础设施层。

技术栈偏好：
- 构建系统：CMake 3.16+，支持MSVC/GCC/Clang
- 依赖管理：通过git submodules管理third_party库
- 测试框架：GoogleTest进行单元测试和集成测试
- 日志系统：spdlog与RADAR_*宏
- 配置管理：YAML格式，ConfigManager单例模式

架构模式：
- 所有模块实现IModule接口
- 使用策略模式处理CPU/GPU计算切换
- 应用工厂模式创建处理策略
- 事件驱动的模块间通信

质量标准：
- 编译时使用-Wall -Wextra -Werror标志
- 代码覆盖率目标80%以上
- 支持跨平台（Windows/Linux）
- 遵循C++ Core Guidelines

开发流程：
1. 先定义include/modules/下的接口
2. 在src/modules/[module_name]/实现具体类
3. 立即进行错误检查和编译验证
4. 集成到RadarApplication主应用类
5. 添加相应的单元测试

请始终优先考虑接口兼容性和实时性能要求。
```

### 简化配置模板

```
我在开发C++雷达处理系统。请：
- 使用项目的radar::命名空间和ErrorCode错误处理
- 优先考虑GPU性能和内存对齐
- 遵循IModule接口继承模式
- 使用RADAR_*日志宏和Doxygen注释格式
- 在生成代码前检查现有接口兼容性
```

## 🛠️ 专业建议

### 指令编写最佳实践

1. **具体性优于通用性**
   ```
   ❌ 写出好的代码
   ✅ 使用radar::命名空间，继承IModule接口，返回ErrorCode状态码
   ```

2. **包含项目上下文**
   ```
   ❌ 优化性能
   ✅ 针对实时雷达处理优化GPU内存传输，目标延迟<10ms
   ```

3. **明确技术约束**
   ```
   ❌ 使用现代C++
   ✅ 使用C++17特性，支持CUDA，避免异常处理，优先智能指针
   ```

### 常见配置错误

1. **过于宽泛的指令**
   - 避免："写出高质量代码"
   - 推荐："遵循项目编码规范，使用特定数据类型和错误处理模式"

2. **缺少项目特定信息**
   - 避免：只说"C++项目"
   - 推荐：明确说明"GPU加速雷达处理系统，使用CUDA和实时约束"

3. **忽略性能要求**
   - 避免：不提及性能
   - 推荐：明确延迟要求、内存对齐、GPU优化需求

### 指令更新策略

- **定期审查**：每月检查指令是否符合项目发展
- **版本控制**：记录重要的指令变更历史
- **团队同步**：与团队成员讨论通用的指令模式
- **实验测试**：测试新指令对代码生成质量的影响

## 🔧 验证个人指令效果

### 测试方法

1. **简单代码生成测试**
   ```
   向Copilot询问："创建一个新的数据处理模块接口"
   验证生成的代码是否：
   - 使用了radar::命名空间
   - 继承自IModule基类
   - 使用项目特定的数据类型
   - 包含适当的Doxygen注释
   ```

2. **错误处理测试**
   ```
   询问："添加错误检查逻辑"
   验证是否：
   - 使用ErrorCode返回值
   - 避免抛出异常
   - 使用项目定义的错误码
   ```

3. **性能优化测试**
   ```
   询问："优化这个循环的性能"
   验证是否：
   - 考虑了GPU加速
   - 使用内存对齐数据结构
   - 避免动态内存分配
   ```

### 效果评估指标

- **代码一致性**：生成代码符合项目约定的比例
- **编译成功率**：第一次生成代码的编译通过率
- **性能意识**：是否自动考虑实时处理要求
- **接口兼容性**：是否正确使用现有接口和类型

## 📚 相关资源

### 项目文档参考

- [编码规范与代码风格指南](../03_技术规范/编码规范与代码风格指南.md)
- [架构与模块化开发规范](../03_技术规范/架构与模块化开发规范.md)
- [GitHub Copilot项目指令](.github/copilot-instructions.md)

### GitHub官方文档

- [GitHub Copilot Chat Documentation](https://docs.github.com/en/copilot/github-copilot-chat)
- [Copilot Personal Instructions](https://docs.github.com/en/copilot/customizing-copilot/adding-custom-instructions-for-github-copilot)

## 🚨 注意事项

### 安全考虑

- **避免包含敏感信息**：不要在个人指令中包含密码、密钥或内部系统信息
- **保护专有技术**：避免详细描述核心算法或商业机密
- **审查生成内容**：始终检查AI生成的代码是否符合安全规范

### 最佳实践提醒

- **渐进式优化**：从简单指令开始，逐步添加更多细节
- **团队协调**：与团队讨论通用指令模式，避免冲突
- **文档同步**：保持个人指令与项目文档的一致性
- **定期更新**：随着项目发展调整个人指令

---

**最后更新**: 2025年9月18日  
**适用版本**: GitHub Copilot 最新版本  
**维护者**: Radar项目开发团队

通过正确配置个人指令，你可以让GitHub Copilot更好地理解雷达项目的特定需求，提高代码生成的准确性和项目符合度。有任何问题或建议，请参考项目文档或联系开发团队。